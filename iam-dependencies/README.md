# IAMå¹³å°ä¾èµ–ç®¡ç†æ¨¡å—

## æ¦‚è¿°

`iam-dependencies` æ¨¡å—æ˜¯IAMå¹³å°çš„ç»Ÿä¸€ä¾èµ–ç‰ˆæœ¬ç®¡ç†æ¨¡å—ï¼Œè´Ÿè´£ç®¡ç†æ•´ä¸ªé¡¹ç›®ä¸­æ‰€æœ‰ç¬¬ä¸‰æ–¹ä¾èµ–çš„ç‰ˆæœ¬ï¼Œç¡®ä¿ç‰ˆæœ¬ä¸€è‡´æ€§å’Œå…¼å®¹æ€§ã€‚

## ç›®æ ‡

- **ç»Ÿä¸€ç‰ˆæœ¬ç®¡ç†**ï¼šé›†ä¸­ç®¡ç†æ‰€æœ‰ç¬¬ä¸‰æ–¹ä¾èµ–ç‰ˆæœ¬
- **ç‰ˆæœ¬å…¼å®¹æ€§**ï¼šç¡®ä¿ä¾èµ–ä¹‹é—´çš„ç‰ˆæœ¬å…¼å®¹
- **ç®€åŒ–ç»´æŠ¤**ï¼šå‡å°‘ç‰ˆæœ¬å†²çªå’Œç»´æŠ¤æˆæœ¬
- **æ ‡å‡†åŒ–**ï¼šæä¾›æ ‡å‡†çš„ä¾èµ–å¼•ç”¨æ–¹å¼

## åŠŸèƒ½ç‰¹æ€§

### ğŸ¯ æ ¸å¿ƒç‰¹æ€§

- âœ… **å®Œæ•´çš„æŠ€æœ¯æ ˆè¦†ç›–**ï¼šæ¶µç›–å¾®æœåŠ¡å¼€å‘æ‰€éœ€çš„å…¨éƒ¨ä¾èµ–
- âœ… **ç‰ˆæœ¬å…¼å®¹æ€§ä¿è¯**ï¼šç»è¿‡æµ‹è¯•çš„ç¨³å®šç‰ˆæœ¬ç»„åˆ
- âœ… **åˆ†ç±»ç®¡ç†**ï¼šæŒ‰åŠŸèƒ½åˆ†ç±»ç»„ç»‡ä¾èµ–
- âœ… **æ’ä»¶ç®¡ç†**ï¼šç»Ÿä¸€ç®¡ç†Mavenæ„å»ºæ’ä»¶
- âœ… **ç¯å¢ƒé…ç½®**ï¼šæ”¯æŒå¤šç¯å¢ƒé…ç½®

### ğŸ“¦ ä¾èµ–åˆ†ç±»

#### 1. Spring Framework ç”Ÿæ€
- Spring Boot 3.2.9
- Spring Cloud 2023.0.3  
- Spring Cloud Alibaba 2023.0.3.3
- Spring Security 6.2.7

#### 2. æ•°æ®åº“ç›¸å…³
- MySQL 8.0.33
- PostgreSQL 42.7.4
- H2 2.2.224
- MyBatis Plus 3.5.4.1
- Dynamic DataSource 4.2.0

#### 3. ç¼“å­˜ç›¸å…³
- Redisson 3.24.3
- Jedis 4.4.6
- Lettuce 6.3.2.RELEASE

#### 4. æ¶ˆæ¯é˜Ÿåˆ—
- RocketMQ 5.1.4
- Kafka 3.6.1
- RabbitMQ 3.12.8

#### 5. æœç´¢å¼•æ“
- Elasticsearch 8.11.0
- Spring Data Elasticsearch 5.2.0

#### 6. ç›‘æ§ç›¸å…³
- Micrometer 1.12.0
- Prometheus 0.16.0
- SkyWalking 9.0.0

#### 7. å·¥å…·ç±»åº“
- Hutool 5.8.22
- Guava 32.1.3-jre
- Apache Commons Lang3 3.14.0
- Apache Commons Collections4 4.4
- Apache Commons IO 2.15.0
- FastJSON2 2.0.43

#### 8. å®‰å…¨ç›¸å…³
- JWT 0.12.3
- BCrypt 0.4
- Jasypt 3.0.5

#### 9. APIæ–‡æ¡£
- Knife4j 4.4.0
- Swagger 2.2.8
- SpringDoc OpenAPI 2.2.0

#### 10. ç¬¬ä¸‰æ–¹SDK
- é˜¿é‡Œäº‘SDK 4.6.4
- é˜¿é‡Œäº‘çŸ­ä¿¡ 2.0.24
- è…¾è®¯äº‘SDK 3.1.879
- å¾®ä¿¡SDK 4.4.0
- é’‰é’‰SDK 2.0.0
- ä¸ƒç‰›äº‘SDK 7.15.1

#### 11. æ–‡ä»¶å¤„ç†
- Apache POI 5.2.5
- EasyExcel 3.3.2
- iText PDF 5.5.13.3

#### 12. ç½‘ç»œè¯·æ±‚
- OkHttp 4.12.0
- Apache HttpClient 4.5.14
- Retrofit 2.9.0

#### 13. ä»»åŠ¡è°ƒåº¦
- XXL-JOB 2.4.1
- Quartz 2.3.2

#### 14. åˆ†å¸ƒå¼ç»„ä»¶
- Redisson åˆ†å¸ƒå¼é” 3.24.3
- Sentinel é™æµç†”æ–­ 1.8.6
- Seata åˆ†å¸ƒå¼äº‹åŠ¡ 1.7.1
- Nacos é…ç½®ä¸­å¿ƒ 2.3.0

#### 15. æµ‹è¯•æ¡†æ¶
- JUnit 5 5.10.1
- Mockito 5.7.0
- TestContainers 1.19.3

## ä½¿ç”¨æ–¹å¼

### 1. åœ¨çˆ¶é¡¹ç›®ä¸­å¼•å…¥

åœ¨æ ¹ç›®å½•çš„ `pom.xml` ä¸­å¼•å…¥ä¾èµ–ç®¡ç†ï¼š

```xml
<dependencyManagement>
    <dependencies>
        <dependency>
            <groupId>com.xiaoxin</groupId>
            <artifactId>iam-dependencies</artifactId>
            <version>1.0.0-SNAPSHOT</version>
            <type>pom</type>
            <scope>import</scope>
        </dependency>
    </dependencies>
</dependencyManagement>
```

### 2. åœ¨å­æ¨¡å—ä¸­ä½¿ç”¨ä¾èµ–

åœ¨å­æ¨¡å—çš„ `pom.xml` ä¸­ï¼Œæ— éœ€æŒ‡å®šç‰ˆæœ¬å·ï¼š

```xml
<dependencies>
    <!-- Spring Boot Starter -->
    <dependency>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-starter-web</artifactId>
    </dependency>
    
    <!-- MyBatis Plus -->
    <dependency>
        <groupId>com.baomidou</groupId>
        <artifactId>mybatis-plus-boot-starter</artifactId>
    </dependency>
    
    <!-- Hutool å·¥å…·ç±» -->
    <dependency>
        <groupId>cn.hutool</groupId>
        <artifactId>hutool-all</artifactId>
    </dependency>
</dependencies>
```

### 3. ä½¿ç”¨IAMå¹³å°è‡ªæœ‰ä¾èµ–

```xml
<dependencies>
    <!-- IAM å…¬å…±æ¨¡å— -->
    <dependency>
        <groupId>com.xiaoxin</groupId>
        <artifactId>iam-common</artifactId>
    </dependency>
    
    <!-- IAM Web Starter -->
    <dependency>
        <groupId>com.xiaoxin</groupId>
        <artifactId>iam-spring-boot-starter-web</artifactId>
    </dependency>
</dependencies>
```

## Mavenæ’ä»¶é…ç½®

### 1. ç¼–è¯‘æ’ä»¶

æ”¯æŒJava 17å’Œæ³¨è§£å¤„ç†å™¨ï¼ˆLombokã€MapStructï¼‰ï¼š

```xml
<plugin>
    <groupId>org.apache.maven.plugins</groupId>
    <artifactId>maven-compiler-plugin</artifactId>
</plugin>
```

### 2. æµ‹è¯•æ’ä»¶

å•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•æ”¯æŒï¼š

```xml
<plugin>
    <groupId>org.apache.maven.plugins</groupId>
    <artifactId>maven-surefire-plugin</artifactId>
</plugin>

<plugin>
    <groupId>org.apache.maven.plugins</groupId>
    <artifactId>maven-failsafe-plugin</artifactId>
</plugin>
```

### 3. ä»£ç è´¨é‡æ£€æŸ¥

```xml
<!-- ä»£ç è¦†ç›–ç‡ -->
<plugin>
    <groupId>org.jacoco</groupId>
    <artifactId>jacoco-maven-plugin</artifactId>
</plugin>

<!-- é™æ€ä»£ç åˆ†æ -->
<plugin>
    <groupId>com.github.spotbugs</groupId>
    <artifactId>spotbugs-maven-plugin</artifactId>
</plugin>

<!-- ä»£ç è§„èŒƒæ£€æŸ¥ -->
<plugin>
    <groupId>org.apache.maven.plugins</groupId>
    <artifactId>maven-checkstyle-plugin</artifactId>
</plugin>
```

## Profileé…ç½®

### å¼€å‘ç¯å¢ƒ
```bash
mvn clean compile -Pdev
```

### æµ‹è¯•ç¯å¢ƒ
```bash
mvn clean test -Ptest
```

### ç”Ÿäº§ç¯å¢ƒ
```bash
mvn clean package -Pprod
```

### å‘å¸ƒæ„å»º
```bash
mvn clean package -Prelease
```

### ä»£ç è´¨é‡æ£€æŸ¥
```bash
mvn clean test -Pquality
```

## ç‰ˆæœ¬å‡çº§ç­–ç•¥

### 1. ç‰ˆæœ¬å…¼å®¹æ€§åŸåˆ™

- **ä¸»ç‰ˆæœ¬å‡çº§**ï¼šå¯èƒ½åŒ…å«ç ´åæ€§å˜æ›´ï¼Œéœ€è¦å…¨é¢æµ‹è¯•
- **æ¬¡ç‰ˆæœ¬å‡çº§**ï¼šæ–°åŠŸèƒ½æ·»åŠ ï¼Œå‘åå…¼å®¹
- **è¡¥ä¸ç‰ˆæœ¬å‡çº§**ï¼šbugä¿®å¤ï¼Œå®‰å…¨æ›´æ–°

### 2. å‡çº§æµç¨‹

1. **è¯„ä¼°å½±å“**ï¼šåˆ†æç‰ˆæœ¬å˜æ›´æ—¥å¿—
2. **æµ‹è¯•éªŒè¯**ï¼šåœ¨æµ‹è¯•ç¯å¢ƒéªŒè¯å…¼å®¹æ€§
3. **é€æ­¥å‡çº§**ï¼šåˆ†æ¨¡å—é€æ­¥å‡çº§
4. **å›æ»šå‡†å¤‡**ï¼šå‡†å¤‡å›æ»šæ–¹æ¡ˆ

### 3. ç‰ˆæœ¬ç®¡ç†è§„èŒƒ

```xml
<!-- ç‰ˆæœ¬å·æ ¼å¼ï¼šä¸»ç‰ˆæœ¬.æ¬¡ç‰ˆæœ¬.è¡¥ä¸ç‰ˆæœ¬ -->
<spring-boot.version>3.2.9</spring-boot.version>

<!-- ä½¿ç”¨å˜é‡å¼•ç”¨ -->
<dependency>
    <groupId>org.springframework.boot</groupId>
    <artifactId>spring-boot-starter-web</artifactId>
    <version>${spring-boot.version}</version>
</dependency>
```

## ä¾èµ–å†²çªè§£å†³

### 1. æŸ¥çœ‹ä¾èµ–æ ‘

```bash
mvn dependency:tree
```

### 2. æ’é™¤å†²çªä¾èµ–

```xml
<dependency>
    <groupId>com.example</groupId>
    <artifactId>some-library</artifactId>
    <exclusions>
        <exclusion>
            <groupId>org.slf4j</groupId>
            <artifactId>slf4j-log4j12</artifactId>
        </exclusion>
    </exclusions>
</dependency>
```

### 3. å¼ºåˆ¶æŒ‡å®šç‰ˆæœ¬

```xml
<dependency>
    <groupId>org.slf4j</groupId>
    <artifactId>slf4j-api</artifactId>
    <version>2.0.9</version>
</dependency>
```

## æœ€ä½³å®è·µ

### 1. ç‰ˆæœ¬ç®¡ç†

- âœ… ä½¿ç”¨BOMæ–¹å¼ç®¡ç†ä¾èµ–ç‰ˆæœ¬
- âœ… ç»Ÿä¸€ä½¿ç”¨å˜é‡å®šä¹‰ç‰ˆæœ¬å·
- âœ… å®šæœŸæ›´æ–°ä¾èµ–ç‰ˆæœ¬
- âœ… å…³æ³¨å®‰å…¨æ¼æ´ä¿®å¤

### 2. ä¾èµ–å¼•å…¥

- âœ… æŒ‰éœ€å¼•å…¥ï¼Œé¿å…ä¸å¿…è¦çš„ä¾èµ–
- âœ… ä½¿ç”¨å®˜æ–¹æ¨èçš„starter
- âœ… é¿å…ä¼ é€’ä¾èµ–å†²çª
- âœ… ä¼˜åŒ–ä¾èµ–èŒƒå›´ï¼ˆscopeï¼‰

### 3. æ„å»ºä¼˜åŒ–

- âœ… ä½¿ç”¨Mavenå¹¶è¡Œæ„å»º
- âœ… é…ç½®åˆç†çš„JVMå‚æ•°
- âœ… åˆ©ç”¨ä¾èµ–ç¼“å­˜
- âœ… æ’é™¤æµ‹è¯•ä¾èµ–

## å¸¸è§é—®é¢˜

### Q1: å¦‚ä½•æŸ¥çœ‹å½“å‰ä½¿ç”¨çš„ä¾èµ–ç‰ˆæœ¬ï¼Ÿ

```bash
mvn dependency:list
mvn dependency:tree
```

### Q2: å¦‚ä½•è§£å†³ä¾èµ–å†²çªï¼Ÿ

1. ä½¿ç”¨ `mvn dependency:tree` æŸ¥çœ‹ä¾èµ–æ ‘
2. è¯†åˆ«å†²çªçš„ä¾èµ–
3. ä½¿ç”¨ `<exclusions>` æ’é™¤å†²çªä¾èµ–
4. åœ¨dependencyManagementä¸­å¼ºåˆ¶æŒ‡å®šç‰ˆæœ¬

### Q3: å¦‚ä½•æ·»åŠ æ–°çš„ä¾èµ–ï¼Ÿ

1. åœ¨ `iam-dependencies/pom.xml` ä¸­æ·»åŠ ä¾èµ–ç®¡ç†
2. å®šä¹‰ç‰ˆæœ¬å˜é‡
3. åœ¨éœ€è¦çš„æ¨¡å—ä¸­å¼•å…¥ä¾èµ–ï¼ˆæ— éœ€æŒ‡å®šç‰ˆæœ¬ï¼‰
4. æµ‹è¯•éªŒè¯å…¼å®¹æ€§

### Q4: å¦‚ä½•è‡ªå®šä¹‰æ’ä»¶é…ç½®ï¼Ÿ

åœ¨å­æ¨¡å—çš„pom.xmlä¸­é‡å†™æ’ä»¶é…ç½®ï¼š

```xml
<build>
    <plugins>
        <plugin>
            <groupId>org.apache.maven.plugins</groupId>
            <artifactId>maven-compiler-plugin</artifactId>
            <configuration>
                <!-- è‡ªå®šä¹‰é…ç½® -->
            </configuration>
        </plugin>
    </plugins>
</build>
```

## ç»´æŠ¤æŒ‡å—

### 1. ç‰ˆæœ¬æ›´æ–°æµç¨‹

1. **è°ƒç ”æ–°ç‰ˆæœ¬**ï¼šæŸ¥çœ‹release noteså’Œbreaking changes
2. **å…¼å®¹æ€§è¯„ä¼°**ï¼šè¯„ä¼°å¯¹ç°æœ‰ä»£ç çš„å½±å“
3. **æµ‹è¯•éªŒè¯**ï¼šåœ¨æµ‹è¯•ç¯å¢ƒå……åˆ†æµ‹è¯•
4. **æ–‡æ¡£æ›´æ–°**ï¼šæ›´æ–°ç›¸å…³æ–‡æ¡£å’Œç‰ˆæœ¬è¯´æ˜
5. **å‘å¸ƒé€šçŸ¥**ï¼šé€šçŸ¥å›¢é˜Ÿç‰ˆæœ¬å˜æ›´

### 2. ç›‘æ§å’Œç»´æŠ¤

- å®šæœŸæ£€æŸ¥ä¾èµ–å®‰å…¨æ¼æ´
- å…³æ³¨ä¾èµ–çš„ç”Ÿå‘½å‘¨æœŸçŠ¶æ€
- åŠæ—¶æ›´æ–°è¿‡æ—¶çš„ä¾èµ–
- æ¸…ç†ä¸å†ä½¿ç”¨çš„ä¾èµ–

### 3. æ–‡æ¡£ç»´æŠ¤

- ä¿æŒREADMEæ–‡æ¡£çš„æœ€æ–°çŠ¶æ€
- è®°å½•é‡è¦çš„ç‰ˆæœ¬å˜æ›´
- æä¾›æ¸…æ™°çš„ä½¿ç”¨ç¤ºä¾‹
- ç»´æŠ¤é—®é¢˜è§£å†³æ–¹æ¡ˆ

## è´¡çŒ®æŒ‡å—

### æäº¤è§„èŒƒ

- feat: æ–°åŠŸèƒ½
- fix: ä¿®å¤bug
- docs: æ–‡æ¡£æ›´æ–°
- style: ä»£ç æ ¼å¼è°ƒæ•´
- refactor: ä»£ç é‡æ„
- test: æµ‹è¯•ç›¸å…³
- chore: æ„å»º/å·¥å…·ç›¸å…³

### Pull Request

1. Forké¡¹ç›®
2. åˆ›å»ºfeatureåˆ†æ”¯
3. æäº¤ä»£ç å˜æ›´
4. åˆ›å»ºPull Request
5. ç­‰å¾…ä»£ç å®¡æŸ¥

---

## è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·è”ç³»ï¼š

- **é¡¹ç›®è´Ÿè´£äºº**: xiaoxin
- **é‚®ç®±**: xiaoxin@example.com
- **é¡¹ç›®åœ°å€**: https://github.com/xiaoxin/iam-platform

---

*æœ€åæ›´æ–°æ—¶é—´: 2024å¹´12æœˆ19æ—¥*
